{
  "version": "6",
  "dialect": "sqlite",
  "id": "eeefe7ca-aef0-4aa3-bd8e-5445ca728847",
  "prevId": "6b3a1149-6c14-453c-9d8f-2dbea657ac6f",
  "tables": {
    "accounts": {
      "name": "accounts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'MYR'"
        },
        "opened_at": {
          "name": "opened_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "accounts_name_uq": {
          "name": "accounts_name_uq",
          "columns": [
            "name"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "allocations": {
      "name": "allocations",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "budget_month_id": {
          "name": "budget_month_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "envelope_id": {
          "name": "envelope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'manual'"
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "allocations_bm_env_idx": {
          "name": "allocations_bm_env_idx",
          "columns": [
            "budget_month_id",
            "envelope_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "allocations_budget_month_id_budget_months_id_fk": {
          "name": "allocations_budget_month_id_budget_months_id_fk",
          "tableFrom": "allocations",
          "tableTo": "budget_months",
          "columnsFrom": [
            "budget_month_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "allocations_envelope_id_envelopes_id_fk": {
          "name": "allocations_envelope_id_envelopes_id_fk",
          "tableFrom": "allocations",
          "tableTo": "envelopes",
          "columnsFrom": [
            "envelope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "budget_months": {
      "name": "budget_months",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "month": {
          "name": "month",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'MYR'"
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "budget_months_month_uq": {
          "name": "budget_months_month_uq",
          "columns": [
            "month"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "envelope_moves": {
      "name": "envelope_moves",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "budget_month_id": {
          "name": "budget_month_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "from_envelope_id": {
          "name": "from_envelope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "to_envelope_id": {
          "name": "to_envelope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "moves_bm_idx": {
          "name": "moves_bm_idx",
          "columns": [
            "budget_month_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "envelope_moves_budget_month_id_budget_months_id_fk": {
          "name": "envelope_moves_budget_month_id_budget_months_id_fk",
          "tableFrom": "envelope_moves",
          "tableTo": "budget_months",
          "columnsFrom": [
            "budget_month_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "envelope_moves_from_envelope_id_envelopes_id_fk": {
          "name": "envelope_moves_from_envelope_id_envelopes_id_fk",
          "tableFrom": "envelope_moves",
          "tableTo": "envelopes",
          "columnsFrom": [
            "from_envelope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "envelope_moves_to_envelope_id_envelopes_id_fk": {
          "name": "envelope_moves_to_envelope_id_envelopes_id_fk",
          "tableFrom": "envelope_moves",
          "tableTo": "envelopes",
          "columnsFrom": [
            "to_envelope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "envelopes": {
      "name": "envelopes",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "group_name": {
          "name": "group_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'General'"
        },
        "is_hidden": {
          "name": "is_hidden",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "is_system": {
          "name": "is_system",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "envelopes_name_uq": {
          "name": "envelopes_name_uq",
          "columns": [
            "name"
          ],
          "isUnique": true
        },
        "envelopes_group_idx": {
          "name": "envelopes_group_idx",
          "columns": [
            "group_name"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "payees": {
      "name": "payees",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "payees_name_uq": {
          "name": "payees_name_uq",
          "columns": [
            "name"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "targets": {
      "name": "targets",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "envelope_id": {
          "name": "envelope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "target_amount": {
          "name": "target_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "target_month": {
          "name": "target_month",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "start_month": {
          "name": "start_month",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "archived": {
          "name": "archived",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "targets_envelope_uq": {
          "name": "targets_envelope_uq",
          "columns": [
            "envelope_id"
          ],
          "isUnique": true
        },
        "targets_type_idx": {
          "name": "targets_type_idx",
          "columns": [
            "type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "targets_envelope_id_envelopes_id_fk": {
          "name": "targets_envelope_id_envelopes_id_fk",
          "tableFrom": "targets",
          "tableTo": "envelopes",
          "columnsFrom": [
            "envelope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "transaction_splits": {
      "name": "transaction_splits",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "envelope_id": {
          "name": "envelope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "splits_tx_idx": {
          "name": "splits_tx_idx",
          "columns": [
            "transaction_id"
          ],
          "isUnique": false
        },
        "splits_env_idx": {
          "name": "splits_env_idx",
          "columns": [
            "envelope_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "transaction_splits_transaction_id_transactions_id_fk": {
          "name": "transaction_splits_transaction_id_transactions_id_fk",
          "tableFrom": "transaction_splits",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transaction_splits_envelope_id_envelopes_id_fk": {
          "name": "transaction_splits_envelope_id_envelopes_id_fk",
          "tableFrom": "transaction_splits",
          "tableTo": "envelopes",
          "columnsFrom": [
            "envelope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "transactions": {
      "name": "transactions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "transfer_group_id": {
          "name": "transfer_group_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "transfer_peer_id": {
          "name": "transfer_peer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payee_id": {
          "name": "payee_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payee_name": {
          "name": "payee_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cleared": {
          "name": "cleared",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'cleared'"
        },
        "skip_budget": {
          "name": "skip_budget",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "transactions_external_id_uq": {
          "name": "transactions_external_id_uq",
          "columns": [
            "external_id"
          ],
          "isUnique": true
        },
        "transactions_account_posted_idx": {
          "name": "transactions_account_posted_idx",
          "columns": [
            "account_id",
            "posted_at"
          ],
          "isUnique": false
        },
        "transactions_transfer_group_idx": {
          "name": "transactions_transfer_group_idx",
          "columns": [
            "transfer_group_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "transactions_account_id_accounts_id_fk": {
          "name": "transactions_account_id_accounts_id_fk",
          "tableFrom": "transactions",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_payee_id_payees_id_fk": {
          "name": "transactions_payee_id_payees_id_fk",
          "tableFrom": "transactions",
          "tableTo": "payees",
          "columnsFrom": [
            "payee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}